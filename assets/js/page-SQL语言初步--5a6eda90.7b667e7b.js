(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{620:function(s,a,t){"use strict";t.r(a);var e=t(3),n=Object(e.a)({},(function(){var s=this,a=s.$createElement,t=s._self._c||a;return t("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[t("h1",{attrs:{id:"sql-语言初步"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql-语言初步"}},[s._v("#")]),s._v(" SQL 语言初步")]),s._v(" "),t("hr"),s._v(" "),t("h2",{attrs:{id:"sql-简介"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#sql-简介"}},[s._v("#")]),s._v(" SQL 简介")]),s._v(" "),t("p",[t("code",[s._v("Structured Query Language")]),s._v(" 结构化查询语言")]),s._v(" "),t("p",[s._v("核心功能主要有以下几类")]),s._v(" "),t("ul",[t("li",[s._v("Data Definition Language\n"),t("ul",[t("li",[s._v("数据定义语言")]),s._v(" "),t("li",[s._v("负责创建 修改 删除表 索引和视图等对象")]),s._v(" "),t("li",[t("code",[s._v("create alter drop")])])])]),s._v(" "),t("li",[s._v("Data Manipulation Language\n"),t("ul",[t("li",[s._v("数据操作语言")]),s._v(" "),t("li",[s._v("负责数据的插入 修改 查询和删除操作")]),s._v(" "),t("li",[t("code",[s._v("insert update select delete")])])])]),s._v(" "),t("li",[s._v("Data Control Language\n"),t("ul",[t("li",[s._v("数据控制语言")]),s._v(" "),t("li",[s._v("授予和撤销用户对数据的操作权限")]),s._v(" "),t("li",[t("code",[s._v("grant revoke")])])])])]),s._v(" "),t("p",[s._v("各个厂商实际使用的 SQL 语言不尽相同 主要是为了保持自己的竞争力")]),s._v(" "),t("h2",{attrs:{id:"基本数据定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本数据定义"}},[s._v("#")]),s._v(" 基本数据定义")]),s._v(" "),t("h3",{attrs:{id:"创建基本表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建基本表"}},[s._v("#")]),s._v(" 创建基本表")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" table_name\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- column_definition")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("table_name")]),s._v(" "),t("ul",[t("li",[s._v("表名")]),s._v(" "),t("li",[s._v("特别注意 尽量不要使用数据库的关键字")]),s._v(" "),t("li",[s._v("如必要 使用双引号将关键字的名字包括起来 "),t("code",[s._v('"DATA"')])])])]),s._v(" "),t("li",[s._v("column_definition\n"),t("ul",[t("li",[s._v("每个属性列的定义")]),s._v(" "),t("li",[t("code",[s._v("<")])]),s._v(" "),t("li",[t("code",[s._v("<列名><数据类型>[<默认值>|<标识列设置>][<该列的完整性约束>]")])]),s._v(" "),t("li",[t("code",[s._v("<列名>")]),s._v(" "),t("ul",[t("li",[s._v("不能重复")])])]),s._v(" "),t("li",[t("code",[s._v("<数据类型>")]),s._v(" "),t("ul",[t("li",[s._v("int smallint decimal flopat char varchar() datetime")])])]),s._v(" "),t("li",[t("code",[s._v("<默认值>")]),s._v(" "),t("ul",[t("li",[t("code",[s._v("default 常量表达式")])])])]),s._v(" "),t("li",[t("code",[s._v("<该列的完整性约束>")]),s._v(" "),t("ul",[t("li",[s._v("not null / null / unique")])])])])])]),s._v(" "),t("h3",{attrs:{id:"表的结构修改"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#表的结构修改"}},[s._v("#")]),s._v(" 表的结构修改")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" table_name\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("数据类型"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("列的完整性约束"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("add")]),s._v(" 表的完整性约束"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("alter")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("column")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("新的数据类型"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("column")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("列名"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("constraint")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("表的完整性约束"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br")])]),t("h4",{attrs:{id:"删除基本表"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除基本表"}},[s._v("#")]),s._v(" 删除基本表")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("table")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("table_name_1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("table_name_2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h4",{attrs:{id:"创建索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建索引"}},[s._v("#")]),s._v(" 创建索引")]),s._v(" "),t("p",[s._v("在一个基本表上 可以建立若干的索引 索引的建立是帮助加快查询速度")]),s._v(" "),t("p",[t("strong",[s._v("索引的建立和删除工作由 DBA 或表的拥有者 "),t("code",[s._v("dbowner")]),s._v("负责")])]),s._v(" "),t("p",[s._v("用户在查询的时候不能选择索引 选择索引是由 DBMS 自动进行的")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("unique")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("clustered")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("nonclustered")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("index_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("index_name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("|")]),s._v(" view_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("columns")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("columns...")]),s._v(" "),t("ul",[t("li",[s._v("每个指定好的列后面都要指定 "),t("code",[s._v("ASC or DESC")]),s._v(" 默认是"),t("code",[s._v("ASC")])])])]),s._v(" "),t("li",[t("code",[s._v("unique")]),s._v(" "),t("ul",[t("li",[s._v("对应数据来源中 唯一的记录 可以有"),t("code",[s._v("null")]),s._v(" 但是不能有多个"),t("code",[s._v("null")])])])]),s._v(" "),t("li",[t("code",[s._v("clustered")]),s._v(" "),t("ul",[t("li",[s._v("规定此索引为聚簇索引 一个表或者视图只能有一个聚簇索引")]),s._v(" "),t("li",[s._v("建立聚簇索引后 表在磁盘中的物理存储顺序将与聚簇索引中的一致")]),s._v(" "),t("li",[s._v("在经常查询的列上建立可以加快查询速度")]),s._v(" "),t("li",[s._v("在经常更新的列上建立会增加维护索引的成本")])])]),s._v(" "),t("li",[t("code",[s._v("nonclustered")]),s._v(" "),t("ul",[t("li",[s._v("非聚簇索引 这是默认选项")])])])]),s._v(" "),t("h4",{attrs:{id:"删除索引"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除索引"}},[s._v("#")]),s._v(" 删除索引")]),s._v(" "),t("p",[s._v("建立索引是为了加快查询速度 但是若对表中的数据增删改频繁 系统需要花更多的时间对索引进行维护 降低了效率 因此 要删除不必要的索引")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("index")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("index_name_1"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("index_name_2"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"基本的数据操作"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#基本的数据操作"}},[s._v("#")]),s._v(" 基本的数据操作")]),s._v(" "),t("h4",{attrs:{id:"insert"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#insert"}},[s._v("#")]),s._v(" insert")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("table_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("column_names"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("values")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("value_list"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"update"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#update"}},[s._v("#")]),s._v(" update")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("table_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("column_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("experission"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("column_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("experission"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("condition"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"delete"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete"}},[s._v("#")]),s._v(" delete")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("table_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("condition"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"数据查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#数据查询"}},[s._v("#")]),s._v(" 数据查询")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("distinct")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("all")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("目标表达式 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 别名"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v(" 清单"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("distinct / all")]),s._v(" "),t("ul",[t("li",[s._v("是否消去查询结果中的重复结果")]),s._v(" "),t("li",[s._v("默认是"),t("code",[s._v("all")]),s._v(" 全部显示查询结果")])])]),s._v(" "),t("li",[t("code",[s._v("<目标表达式>")]),s._v(" "),t("ul",[t("li",[s._v("即查询目标的所要呈现出来的样子")])])])]),s._v(" "),t("h3",{attrs:{id:"带条件的单查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#带条件的单查询"}},[s._v("#")]),s._v(" 带条件的单查询")]),s._v(" "),t("p",[s._v("在上述查询语句中的后面添加")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("relation_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("conditions"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("ul",[t("li",[s._v("特殊运算符号\n"),t("ul",[t("li",[t("code",[s._v("in")])]),s._v(" "),t("li",[t("code",[s._v("not in")])]),s._v(" "),t("li",[t("code",[s._v("between ... and ...")])]),s._v(" "),t("li",[t("code",[s._v("not between ... and ...")])]),s._v(" "),t("li",[t("code",[s._v("like")])]),s._v(" "),t("li",[t("code",[s._v("not like")])])])])]),s._v(" "),t("h3",{attrs:{id:"分组查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#分组查询"}},[s._v("#")]),s._v(" 分组查询")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("group")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("column_list"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("having")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("condition"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[t("code",[s._v("where")]),s._v(" 与 "),t("code",[s._v("having")]),s._v(" 的区别")])]),s._v(" "),t("ul",[t("li",[s._v("作用条件不同\n"),t("ul",[t("li",[t("code",[s._v("where")]),s._v("用于基本表和视图 选择满足条件的元组")]),s._v(" "),t("li",[t("code",[s._v("having")]),s._v(" 作用域分组后的组 选择满足条件的组")])])]),s._v(" "),t("li",[s._v("执行时间不同\n"),t("ul",[t("li",[s._v("先执行"),t("code",[s._v("where")])]),s._v(" "),t("li",[t("code",[s._v("group by")])]),s._v(" "),t("li",[s._v("再执行"),t("code",[s._v("having")])])])]),s._v(" "),t("li",[s._v("聚合函数使用情况不同\n"),t("ul",[t("li",[t("code",[s._v("where")]),s._v("子句中不可使用聚合函数")]),s._v(" "),t("li",[t("code",[s._v("havin")]),s._v("子句可以使用聚合函数")])])])]),s._v(" "),t("h3",{attrs:{id:"排序查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#排序查询"}},[s._v("#")]),s._v(" 排序查询")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("order")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("by")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("column_list "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("ASC")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("/")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("DESC")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("p",[t("strong",[t("code",[s._v("order by")]),s._v(" 只会作用与查询结果的显示")])]),s._v(" "),t("h3",{attrs:{id:"多联系查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#多联系查询"}},[s._v("#")]),s._v(" 多联系查询")]),s._v(" "),t("h4",{attrs:{id:"交叉连接-cross-join"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#交叉连接-cross-join"}},[s._v("#")]),s._v(" 交叉连接 Cross Join")]),s._v(" "),t("p",[s._v("在"),t("code",[s._v("from")]),s._v("中的子句中定义 使用"),t("code",[s._v(",")]),s._v("区分开")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Title "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Dno "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" Employee e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Department d\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"内部连接-inner-join"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#内部连接-inner-join"}},[s._v("#")]),s._v(" 内部连接 Inner Join")]),s._v(" "),t("p",[s._v("在"),t("code",[s._v("from")]),s._v("子句中定义")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Title "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Dno "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Name\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" Employee e "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("INNER")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("JOIN")]),s._v(" Department d\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("on")]),s._v(" e"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Dno "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" d"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Dno"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("p",[t("strong",[s._v("连接的属性名不一定要求相同 但是数据类型要兼容")])]),s._v(" "),t("h4",{attrs:{id:"外部连接-outer-join"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#外部连接-outer-join"}},[s._v("#")]),s._v(" 外部连接 Outer Join")]),s._v(" "),t("ul",[t("li",[s._v("左外连接 "),t("code",[s._v("left join")]),s._v(" "),t("ul",[t("li",[s._v("除了返回两表中满足连接条件的元组外")]),s._v(" "),t("li",[s._v("还返回左侧表中不匹配元组 右侧表中以 "),t("code",[s._v("null")]),s._v(" 代替")])])]),s._v(" "),t("li",[s._v("右外连接 "),t("code",[s._v("right join")]),s._v(" "),t("ul",[t("li",[s._v("除了返回两表中满足连接条件的元组外")]),s._v(" "),t("li",[s._v("还返回右侧表中不匹配元组 左侧表中以 "),t("code",[s._v("null")]),s._v(" 代替")])])]),s._v(" "),t("li",[s._v("全外连接 "),t("code",[s._v("full join")]),s._v(" "),t("ul",[t("li",[s._v("除了返回两表中满足连接条件的元组外")]),s._v(" "),t("li",[s._v("还返回左侧表中不匹配元组 右侧表中以 "),t("code",[s._v("null")]),s._v(" 代替")]),s._v(" "),t("li",[s._v("还返回右侧表中不匹配元组 左侧表中以 "),t("code",[s._v("null")]),s._v(" 代替")])])])]),s._v(" "),t("p",[s._v("与自连接"),t("code",[s._v("inner join")]),s._v(" 类似 只需要改成对应的名称")]),s._v(" "),t("h4",{attrs:{id:"自身连接-self-join"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#自身连接-self-join"}},[s._v("#")]),s._v(" 自身连接 Self Join")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" emp1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Eno"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v("emp2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Emgr\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" Employee emp1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(",")]),s._v(" Employee emp2\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" emp1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Emgr "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" emp2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Eno\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h3",{attrs:{id:"嵌套查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#嵌套查询"}},[s._v("#")]),s._v(" 嵌套查询")]),s._v(" "),t("p",[s._v("即在 "),t("code",[s._v("where")]),s._v("中使用另外一个查询的结果")]),s._v(" "),t("h4",{attrs:{id:"使用-in"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-in"}},[s._v("#")]),s._v(" 使用 in")]),s._v(" "),t("h4",{attrs:{id:"使用-等"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-等"}},[s._v("#")]),s._v(" 使用 > < <> 等")]),s._v(" "),t("h4",{attrs:{id:"使用-between"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#使用-between"}},[s._v("#")]),s._v(" 使用 between")]),s._v(" "),t("h4",{attrs:{id:"相关子查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#相关子查询"}},[s._v("#")]),s._v(" 相关子查询")]),s._v(" "),t("p",[s._v("上述的情况 大多是子查询只用一次 作为父查询的"),t("code",[s._v("where")]),s._v("条件所用 称为 "),t("strong",[s._v("不相关子查询")])]),s._v(" "),t("p",[s._v("有的查询中 子查询的执行依赖于父查询的某些条件 子查询将不只执行一次")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" Ename\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" Employee emp1\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" age "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("\n  "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("select")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[s._v("avg")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("age"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" Employee emp2\n    "),t("span",{pre:!0,attrs:{class:"token comment"}},[s._v("-- 注意下面这句中 值的来源")]),s._v("\n    "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" emp2"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Dno "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" emp1"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(".")]),s._v("Dno\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br"),t("span",{staticClass:"line-number"},[s._v("4")]),t("br"),t("span",{staticClass:"line-number"},[s._v("5")]),t("br"),t("span",{staticClass:"line-number"},[s._v("6")]),t("br"),t("span",{staticClass:"line-number"},[s._v("7")]),t("br"),t("span",{staticClass:"line-number"},[s._v("8")]),t("br"),t("span",{staticClass:"line-number"},[s._v("9")]),t("br")])]),t("p",[s._v("一般 也会用 "),t("code",[s._v("exists")]),s._v("关键字 用于反馈相对应的查询条件是否查询到了内容")]),s._v(" "),t("h3",{attrs:{id:"含有子查询的数据更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#含有子查询的数据更新"}},[s._v("#")]),s._v(" 含有子查询的数据更新")]),s._v(" "),t("h4",{attrs:{id:"insert-与子查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#insert-与子查询"}},[s._v("#")]),s._v(" insert 与子查询")]),s._v(" "),t("p",[s._v("将查询结果插入到表中")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("insert")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("into")]),s._v(" table_name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("columns")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("(")]),s._v("sub_select"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h4",{attrs:{id:"update-与子查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#update-与子查询"}},[s._v("#")]),s._v(" update 与子查询")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("update")]),s._v(" table_name\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("set")]),s._v(" clomun_name "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("=")]),s._v(" expression\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("sub_select"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("h4",{attrs:{id:"delete-与子查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#delete-与子查询"}},[s._v("#")]),s._v(" delete 与子查询")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("delete")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("from")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("table_name"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("where")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("sub_select"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br")])]),t("h2",{attrs:{id:"视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图"}},[s._v("#")]),s._v(" 视图")]),s._v(" "),t("p",[s._v("一个视图是从一个或多个关系中导出的关系")]),s._v(" "),t("p",[s._v("数据库只有此视图的定义 没有实际生成此表 "),t("strong",[s._v("视图是虚表")])]),s._v(" "),t("ul",[t("li",[s._v("由于是虚表 一般不建立索引 但是可以建立索引的视图")]),s._v(" "),t("li",[s._v("SQL 一般不提供修改视图定义的语句\n"),t("ul",[t("li",[s._v("如果有需要 删除之后从新定义一个即可 不影响数据")])])]),s._v(" "),t("li",[s._v("对数据中数据进行更新是有限制的")])]),s._v(" "),t("h3",{attrs:{id:"视图的定义"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图的定义"}},[s._v("#")]),s._v(" 视图的定义")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("create")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("view")]),s._v(" view_name "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),s._v("column_list"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("as")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v("<")]),s._v("sub_select"),t("span",{pre:!0,attrs:{class:"token operator"}},[s._v(">")]),s._v("\n"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("[")]),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("with")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("check")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("option")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br"),t("span",{staticClass:"line-number"},[s._v("2")]),t("br"),t("span",{staticClass:"line-number"},[s._v("3")]),t("br")])]),t("ul",[t("li",[t("code",[s._v("with check optiom")]),s._v(" "),t("ul",[t("li",[s._v("对此视图进行"),t("code",[s._v("insert update delete")]),s._v("操作时系统将检查是否符合元定义视图子查询中的条件表达式")])])]),s._v(" "),t("li",[t("code",[s._v("sub_select")]),s._v(" "),t("ul",[t("li",[s._v("合法的"),t("code",[s._v("select")]),s._v("语句")]),s._v(" "),t("li",[s._v("语句执行后 视图只是进入了数据字典 但是 子查询并未进行")]),s._v(" "),t("li",[s._v("只有在查询视图的时候 才会执行子查询")])])])]),s._v(" "),t("h3",{attrs:{id:"删除视图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#删除视图"}},[s._v("#")]),s._v(" 删除视图")]),s._v(" "),t("div",{staticClass:"language-sql line-numbers-mode"},[t("pre",{pre:!0,attrs:{class:"language-sql"}},[t("code",[t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("drop")]),s._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[s._v("view")]),s._v(" view_name"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[s._v(";")]),s._v("\n")])]),s._v(" "),t("div",{staticClass:"line-numbers-wrapper"},[t("span",{staticClass:"line-number"},[s._v("1")]),t("br")])]),t("h3",{attrs:{id:"视图的查询"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图的查询"}},[s._v("#")]),s._v(" 视图的查询")]),s._v(" "),t("h4",{attrs:{id:"用户"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#用户"}},[s._v("#")]),s._v(" 用户")]),s._v(" "),t("p",[s._v("用户查询时 视图和基本表之间是没有区别的 也不能进行区分")]),s._v(" "),t("p",[s._v("用户吃也不需要进行区分")]),s._v(" "),t("h4",{attrs:{id:"dbms-对视图查询的处理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dbms-对视图查询的处理"}},[s._v("#")]),s._v(" DBMS 对视图查询的处理")]),s._v(" "),t("ul",[t("li",[s._v("从数据字典中取出该视图的定义")]),s._v(" "),t("li",[s._v("把视图定义的子查询和本"),t("code",[s._v("select")]),s._v("查询相结合 生成等价的基本表的查询")]),s._v(" "),t("li",[s._v("执行对基本表的查询")]),s._v(" "),t("li",[s._v("将查询结果对用户显示")])]),s._v(" "),t("h3",{attrs:{id:"视图的更新"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图的更新"}},[s._v("#")]),s._v(" 视图的更新")]),s._v(" "),t("h4",{attrs:{id:"含义和过程"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#含义和过程"}},[s._v("#")]),s._v(" 含义和过程")]),s._v(" "),t("p",[s._v("实质上是由 DBMS 转换成对基本表的数据操作")]),s._v(" "),t("h4",{attrs:{id:"with-check-option"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#with-check-option"}},[s._v("#")]),s._v(" with check option")]),s._v(" "),t("p",[s._v("若加上子句 "),t("code",[s._v("with check option")]),s._v(" 则对视图更新的时候 会检查原定义时的条件是否满足")]),s._v(" "),t("h4",{attrs:{id:"视图的可更新性"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图的可更新性"}},[s._v("#")]),s._v(" 视图的可更新性")]),s._v(" "),t("p",[s._v("不是所有的视图都可以更新的")]),s._v(" "),t("ul",[t("li",[s._v("有些视图在理论上是不能被更新 如建立年龄和姓名的视图 是不能修改性别的")]),s._v(" "),t("li",[s._v("在理论上可以更新 但是特征复杂 实际上还是不能更新的 称为 "),t("strong",[s._v("不允许更新的视图")])])]),s._v(" "),t("h3",{attrs:{id:"视图的作用"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视图的作用"}},[s._v("#")]),s._v(" 视图的作用")]),s._v(" "),t("ul",[t("li",[s._v("视图能方便用户操作")]),s._v(" "),t("li",[s._v("视图可对数据提供安全保护")]),s._v(" "),t("li",[s._v("视图能使不同用户都能用自己喜欢的方式看待同一数据")])]),s._v(" "),t("p",[s._v("缺点是 在更新时会有问题 因此也要提前准备好这一点")])])}),[],!1,null,null,null);a.default=n.exports}}]);